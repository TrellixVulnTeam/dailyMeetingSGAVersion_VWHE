import { Directive, ElementRef, Input, Renderer2, } from "@angular/core";
import { MaterialRipple } from "./ripple.vendor";
const RIPPLE = "mdl-ripple";
// known bugs: https://github.com/google/material-design-lite/issues/4215
export class MdlRippleDirective {
    constructor(elementRef, renderer, cssContainerClasses) {
        this.elementRef = elementRef;
        this.renderer = renderer;
        this.cssContainerClasses = cssContainerClasses;
        this.rippleActive = true;
        this.el = elementRef.nativeElement;
    }
    ngOnChanges() {
        // remove any existing ripple container
        if (this.rippleContainer) {
            this.el.removeChild(this.rippleContainer);
            delete this.rippleContainer;
            delete this.ripple;
        }
        // if used as mdl-ripple without property binding it is an empty string
        // otherwise (e.g. [mdl-ripple] it is a boolean - may be with the default value true.
        if (this.rippleActive === "" || this.rippleActive) {
            this.rippleContainer = this.renderer.createElement("span");
            this.cssContainerClasses.forEach((cssClass) => {
                this.renderer.addClass(this.rippleContainer, cssClass);
            });
            const rippleElement = this.renderer.createElement("span");
            this.renderer.addClass(rippleElement, RIPPLE);
            this.rippleContainer.appendChild(rippleElement);
            this.el.appendChild(this.rippleContainer);
            this.ripple = new MaterialRipple(this.renderer, this.el);
        }
    }
}
MdlRippleDirective.decorators = [
    { type: Directive }
];
MdlRippleDirective.ctorParameters = () => [
    { type: ElementRef },
    { type: Renderer2 },
    { type: Array }
];
export class MdlButtonRippleDirective extends MdlRippleDirective {
    constructor(elementRef, renderer) {
        super(elementRef, renderer, ["mdl-button__ripple-container"]);
        // eslint-disable-next-line
        this.rippleActive = true;
    }
}
MdlButtonRippleDirective.decorators = [
    { type: Directive, args: [{
                // eslint-disable-next-line
                selector: 'mdl-button[mdl-ripple], button[mdl-ripple]'
            },] }
];
MdlButtonRippleDirective.ctorParameters = () => [
    { type: ElementRef },
    { type: Renderer2 }
];
MdlButtonRippleDirective.propDecorators = {
    rippleActive: [{ type: Input, args: ['mdl-ripple',] }]
};
export class MdlCheckboxRippleDirective extends MdlRippleDirective {
    constructor(elementRef, renderer) {
        super(elementRef, renderer, [
            "mdl-checkbox__ripple-container",
            "mdl-ripple--center",
        ]);
        // eslint-disable-next-line
        this.rippleActive = true;
    }
}
MdlCheckboxRippleDirective.decorators = [
    { type: Directive, args: [{
                // eslint-disable-next-line
                selector: 'mdl-checkbox[mdl-ripple]'
            },] }
];
MdlCheckboxRippleDirective.ctorParameters = () => [
    { type: ElementRef },
    { type: Renderer2 }
];
MdlCheckboxRippleDirective.propDecorators = {
    rippleActive: [{ type: Input, args: ['mdl-ripple',] }]
};
export class MdlRadioRippleDirective extends MdlRippleDirective {
    constructor(elementRef, renderer) {
        super(elementRef, renderer, [
            "mdl-radio__ripple-container",
            "mdl-ripple--center",
        ]);
        // eslint-disable-next-line
        this.rippleActive = true;
    }
}
MdlRadioRippleDirective.decorators = [
    { type: Directive, args: [{
                // eslint-disable-next-line
                selector: 'mdl-radio[mdl-ripple]'
            },] }
];
MdlRadioRippleDirective.ctorParameters = () => [
    { type: ElementRef },
    { type: Renderer2 }
];
MdlRadioRippleDirective.propDecorators = {
    rippleActive: [{ type: Input, args: ['mdl-ripple',] }]
};
export class MdlIconToggleRippleDirective extends MdlRippleDirective {
    constructor(elementRef, renderer) {
        super(elementRef, renderer, [
            "mdl-icon-toggle__ripple-container",
            "mdl-ripple--center",
        ]);
        // eslint-disable-next-line
        this.rippleActive = true;
    }
}
MdlIconToggleRippleDirective.decorators = [
    { type: Directive, args: [{
                // eslint-disable-next-line
                selector: 'mdl-icon-toggle[mdl-ripple]'
            },] }
];
MdlIconToggleRippleDirective.ctorParameters = () => [
    { type: ElementRef },
    { type: Renderer2 }
];
MdlIconToggleRippleDirective.propDecorators = {
    rippleActive: [{ type: Input, args: ['mdl-ripple',] }]
};
export class MdlSwitchRippleDirective extends MdlRippleDirective {
    constructor(elementRef, renderer) {
        super(elementRef, renderer, [
            "mdl-switch__ripple-container",
            "mdl-ripple--center",
        ]);
        // eslint-disable-next-line
        this.rippleActive = true;
    }
}
MdlSwitchRippleDirective.decorators = [
    { type: Directive, args: [{
                // eslint-disable-next-line
                selector: 'mdl-switch[mdl-ripple]'
            },] }
];
MdlSwitchRippleDirective.ctorParameters = () => [
    { type: ElementRef },
    { type: Renderer2 }
];
MdlSwitchRippleDirective.propDecorators = {
    rippleActive: [{ type: Input, args: ['mdl-ripple',] }]
};
export class MdlMenuItemRippleDirective extends MdlRippleDirective {
    constructor(elementRef, renderer) {
        super(elementRef, renderer, ["mdl-menu__item--ripple-container"]);
        // eslint-disable-next-line
        this.rippleActive = true;
    }
}
MdlMenuItemRippleDirective.decorators = [
    { type: Directive, args: [{
                // eslint-disable-next-line
                selector: 'mdl-menu-item[mdl-ripple]'
            },] }
];
MdlMenuItemRippleDirective.ctorParameters = () => [
    { type: ElementRef },
    { type: Renderer2 }
];
MdlMenuItemRippleDirective.propDecorators = {
    rippleActive: [{ type: Input, args: ['mdl-ripple',] }]
};
export class MdlAnchorRippleDirective extends MdlRippleDirective {
    constructor(elementRef, renderer) {
        super(elementRef, renderer, [
            "mdl-tabs__ripple-container",
            "mdl-layout__tab-ripple-container",
        ]);
        // eslint-disable-next-line
        this.rippleActive = true;
    }
}
MdlAnchorRippleDirective.decorators = [
    { type: Directive, args: [{
                // eslint-disable-next-line
                selector: 'a[mdl-ripple],div[mdl-ripple]'
            },] }
];
MdlAnchorRippleDirective.ctorParameters = () => [
    { type: ElementRef },
    { type: Renderer2 }
];
MdlAnchorRippleDirective.propDecorators = {
    rippleActive: [{ type: Input, args: ['mdl-ripple',] }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWRsLXJpcHBsZS5kaXJlY3RpdmUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9jb3JlL3NyYy9saWIvcmlwcGxlL21kbC1yaXBwbGUuZGlyZWN0aXZlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDTCxTQUFTLEVBQ1QsVUFBVSxFQUNWLEtBQUssRUFFTCxTQUFTLEdBQ1YsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBRWpELE1BQU0sTUFBTSxHQUFHLFlBQVksQ0FBQztBQUU1Qix5RUFBeUU7QUFFekUsTUFBTSxPQUFPLGtCQUFrQjtJQU83QixZQUNVLFVBQXNCLEVBQ3ZCLFFBQW1CLEVBQ2xCLG1CQUE2QjtRQUY3QixlQUFVLEdBQVYsVUFBVSxDQUFZO1FBQ3ZCLGFBQVEsR0FBUixRQUFRLENBQVc7UUFDbEIsd0JBQW1CLEdBQW5CLG1CQUFtQixDQUFVO1FBUnZDLGlCQUFZLEdBQXFCLElBQUksQ0FBQztRQVVwQyxJQUFJLENBQUMsRUFBRSxHQUFHLFVBQVUsQ0FBQyxhQUFhLENBQUM7SUFDckMsQ0FBQztJQUVELFdBQVc7UUFDVCx1Q0FBdUM7UUFDdkMsSUFBSSxJQUFJLENBQUMsZUFBZSxFQUFFO1lBQ3hCLElBQUksQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztZQUMxQyxPQUFPLElBQUksQ0FBQyxlQUFlLENBQUM7WUFDNUIsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO1NBQ3BCO1FBRUQsdUVBQXVFO1FBQ3ZFLHFGQUFxRjtRQUNyRixJQUFJLElBQUksQ0FBQyxZQUFZLEtBQUssRUFBRSxJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUU7WUFDakQsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQztZ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QVEsRUFBRTtZQUMxQiw4QkFBOEI7WUFDOUIsb0JBQW9CO1NBQ3JCLENBQUMsQ0FBQztRQVBMLDJCQUEyQjtRQUNDLGlCQUFZLEdBQXFCLElBQUksQ0FBQztJQU9sRSxDQUFDOzs7WUFiRixTQUFTLFNBQUM7Z0JBQ1QsMkJBQTJCO2dCQUMzQixRQUFRLEVBQUUsd0JBQXdCO2FBQ25DOzs7WUFuSEMsVUFBVTtZQUdWLFNBQVM7OzsyQkFtSFIsS0FBSyxTQUFDLFlBQVk7O0FBY3JCLE1BQU0sT0FBTywwQkFBMkIsU0FBUSxrQkFBa0I7SUFJaEUsWUFBWSxVQUFzQixFQUFFLFFBQW1CO1FBQ3JELEtBQUssQ0FBQyxVQUFVLEVBQUUsUUFBUSxFQUFFLENBQUMsa0NBQWtDLENBQUMsQ0FBQyxDQUFDO1FBSnBFLDJCQUEyQjtRQUNDLGlCQUFZLEdBQXFCLElBQUksQ0FBQztJQUlsRSxDQUFDOzs7WUFWRixTQUFTLFNBQUM7Z0JBQ1QsMkJBQTJCO2dCQUMzQixRQUFRLEVBQUUsMkJBQTJCO2FBQ3RDOzs7WUFuSUMsVUFBVTtZQUdWLFNBQVM7OzsyQkFtSVIsS0FBSyxTQUFDLFlBQVk7O0FBV3JCLE1BQU0sT0FBTyx3QkFBeUIsU0FBUSxrQkFBa0I7SUFJOUQsWUFBWSxVQUFzQixFQUFFLFFBQW1CO1FBQ3JELEtBQUssQ0FBQyxVQUFVLEVBQUUsUUFBUSxFQUFFO1lBQzFCLDRCQUE0QjtZQUM1QixrQ0FBa0M7U0FDbkMsQ0FBQyxDQUFDO1FBUEwsMkJBQTJCO1FBQ0MsaUJBQVksR0FBcUIsSUFBSSxDQUFDO0lBT2xFLENBQUM7OztZQWJGLFNBQVMsU0FBQztnQkFDVCwyQkFBMkI7Z0JBQzNCLFFBQVEsRUFBRSwrQkFBK0I7YUFDMUM7OztZQWhKQyxVQUFVO1lBR1YsU0FBUzs7OzJCQWdKUixLQUFLLFNBQUMsWUFBWSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIERpcmVjdGl2ZSxcbiAgRWxlbWVudFJlZixcbiAgSW5wdXQsXG4gIE9uQ2hhbmdlcyxcbiAgUmVuZGVyZXIyLFxufSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xuaW1wb3J0IHsgTWF0ZXJpYWxSaXBwbGUgfSBmcm9tIFwiLi9yaXBwbGUudmVuZG9yXCI7XG5cbmNvbnN0IFJJUFBMRSA9IFwibWRsLXJpcHBsZVwiO1xuXG4vLyBrbm93biBidWdzOiBodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL21hdGVyaWFsLWRlc2lnbi1saXRlL2lzc3Vlcy80MjE1XG5ARGlyZWN0aXZlKClcbmV4cG9ydCBjbGFzcyBNZGxSaXBwbGVEaXJlY3RpdmUgaW1wbGVtZW50cyBPbkNoYW5nZXMge1xuICBwdWJsaWMgZWw6IEhUTUxFbGVtZW50O1xuICByaXBwbGVBY3RpdmU6IGJvb2xlYW4gfCBzdHJpbmcgPSB0cnVlO1xuXG4gIHByaXZhdGUgcmlwcGxlQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgcHJpdmF0ZSByaXBwbGU6ICgpID0+IHZvaWQ7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBlbGVtZW50UmVmOiBFbGVtZW50UmVmLFxuICAgIHB1YmxpYyByZW5kZXJlcjogUmVuZGVyZXIyLFxuICAgIHByaXZhdGUgY3NzQ29udGFpbmVyQ2xhc3Nlczogc3RyaW5nW11cbiAgKSB7XG4gICAgdGhpcy5lbCA9IGVsZW1lbnRSZWYubmF0aXZlRWxlbWVudDtcbiAgfVxuXG4gIG5nT25DaGFuZ2VzKCk6IHZvaWQge1xuICAgIC8vIHJlbW92ZSBhbnkgZXhpc3RpbmcgcmlwcGxlIGNvbnRhaW5lclxuICAgIGlmICh0aGlzLnJpcHBsZUNvbnRhaW5lcikge1xuICAgICAgdGhpcy5lbC5yZW1vdmVDaGlsZCh0aGlzLnJpcHBsZUNvbnRhaW5lcik7XG4gICAgICBkZWxldGUgdGhpcy5yaXBwbGVDb250YWluZXI7XG4gICAgICBkZWxldGUgdGhpcy5yaXBwbGU7XG4gICAgfVxuXG4gICAgLy8gaWYgdXNlZCBhcyBtZGwtcmlwcGxlIHdpdGhvdXQgcHJvcGVydHkgYmluZGluZyBpdCBpcyBhbiBlbXB0eSBzdHJpbmdcbiAgICAvLyBvdGhlcndpc2UgKGUuZy4gW21kbC1yaXBwbGVdIGl0IGlzIGEgYm9vbGVhbiAtIG1heSBiZSB3aXRoIHRoZSBkZWZhdWx0IHZhbHVlIHRydWUuXG4gICAgaWYgKHRoaXMucmlwcGxlQWN0aXZlID09PSBcIlwiIHx8IHRoaXMucmlwcGxlQWN0aXZlKSB7XG4gICAgICB0aGlzLnJpcHBsZUNvbnRhaW5lciA9IHRoaXMucmVuZGVyZXIuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICB0aGlzLmNzc0NvbnRhaW5lckNsYXNzZXMuZm9yRWFjaCgoY3NzQ2xhc3MpID0+IHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5hZGRDbGFzcyh0aGlzLnJpcHBsZUNvbnRhaW5lciwgY3NzQ2xhc3MpO1xuICAgICAgfSk7XG4gICAgICBjb25zdCByaXBwbGVFbGVtZW50ID0gdGhpcy5yZW5kZXJlci5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgIHRoaXMucmVuZGVyZXIuYWRkQ2xhc3MocmlwcGxlRWxlbWVudCwgUklQUExFKTtcbiAgICAgIHRoaXMucmlwcGxlQ29udGFpbmVyLmFwcGVuZENoaWxkKHJpcHBsZUVsZW1lbnQpO1xuICAgICAgdGhpcy5lbC5hcHBlbmRDaGlsZCh0aGlzLnJpcHBsZUNvbnRhaW5lcik7XG5cbiAgICAgIHRoaXMucmlwcGxlID0gbmV3IE1hdGVyaWFsUmlwcGxlKHRoaXMucmVuZGVyZXIsIHRoaXMuZWwpO1xuICAgIH1cbiAgfVxufVxuXG5ARGlyZWN0aXZlKHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gIHNlbGVjdG9yOiAnbWRsLWJ1dHRvblttZGwtcmlwcGxlXSwgYnV0dG9uW21kbC1yaXBwbGVdJ1xufSlcbmV4cG9ydCBjbGFzcyBNZGxCdXR0b25SaXBwbGVEaXJlY3RpdmUgZXh0ZW5kcyBNZGxSaXBwbGVEaXJlY3RpdmUge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgQElucHV0KCdtZGwtcmlwcGxlJykgcHVibGljIHJpcHBsZUFjdGl2ZTogYm9vbGVhbiB8IHN0cmluZyA9IHRydWU7XG5cbiAgY29uc3RydWN0b3IoZWxlbWVudFJlZjogRWxlbWVudFJlZiwgcmVuZGVyZXI6IFJlbmRlcmVyMikge1xuICAgIHN1cGVyKGVsZW1lbnRSZWYsIHJlbmRlcmVyLCBbXCJtZGwtYnV0dG9uX19yaXBwbGUtY29udGFpbmVyXCJdKTtcbiAgfVxufVxuXG5ARGlyZWN0aXZlKHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gIHNlbGVjdG9yOiAnbWRsLWNoZWNrYm94W21kbC1yaXBwbGVdJ1xufSlcbmV4cG9ydCBjbGFzcyBNZGxDaGVja2JveFJpcHBsZURpcmVjdGl2ZSBleHRlbmRzIE1kbFJpcHBsZURpcmVjdGl2ZSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICBASW5wdXQoJ21kbC1yaXBwbGUnKSBwdWJsaWMgcmlwcGxlQWN0aXZlOiBib29sZWFuIHwgc3RyaW5nID0gdHJ1ZTtcblxuICBjb25zdHJ1Y3RvcihlbGVtZW50UmVmOiBFbGVtZW50UmVmLCByZW5kZXJlcjogUmVuZGVyZXIyKSB7XG4gICAgc3VwZXIoZWxlbWVudFJlZiwgcmVuZGVyZXIsIFtcbiAgICAgIFwibWRsLWNoZWNrYm94X19yaXBwbGUtY29udGFpbmVyXCIsXG4gICAgICBcIm1kbC1yaXBwbGUtLWNlbnRlclwiLFxuICAgIF0pO1xuICB9XG59XG5cbkBEaXJlY3RpdmUoe1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgc2VsZWN0b3I6ICdtZGwtcmFkaW9bbWRsLXJpcHBsZV0nXG59KVxuZXhwb3J0IGNsYXNzIE1kbFJhZGlvUmlwcGxlRGlyZWN0aXZlIGV4dGVuZHMgTWRsUmlwcGxlRGlyZWN0aXZlIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gIEBJbnB1dCgnbWRsLXJpcHBsZScpIHB1YmxpYyByaXBwbGVBY3RpdmU6IGJvb2xlYW4gfCBzdHJpbmcgPSB0cnVlO1xuXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnRSZWY6IEVsZW1lbnRSZWYsIHJlbmRlcmVyOiBSZW5kZXJlcjIpIHtcbiAgICBzdXBlcihlbGVtZW50UmVmLCByZW5kZXJlciwgW1xuICAgICAgXCJtZGwtcmFkaW9fX3JpcHBsZS1jb250YWluZXJcIixcbiAgICAgIFwibWRsLXJpcHBsZS0tY2VudGVyXCIsXG4gICAgXSk7XG4gIH1cbn1cblxuQERpcmVjdGl2ZSh7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICBzZWxlY3RvcjogJ21kbC1pY29uLXRvZ2dsZVttZGwtcmlwcGxlXSdcbn0pXG5leHBvcnQgY2xhc3MgTWRsSWNvblRvZ2dsZVJpcHBsZURpcmVjdGl2ZSBleHRlbmRzIE1kbFJpcHBsZURpcmVjdGl2ZSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICBASW5wdXQoJ21kbC1yaXBwbGUnKSBwdWJsaWMgcmlwcGxlQWN0aXZlOiBib29sZWFuIHwgc3RyaW5nID0gdHJ1ZTtcblxuICBjb25zdHJ1Y3RvcihlbGVtZW50UmVmOiBFbGVtZW50UmVmLCByZW5kZXJlcjogUmVuZGVyZXIyKSB7XG4gICAgc3VwZXIoZWxlbWVudFJlZiwgcmVuZGVyZXIsIFtcbiAgICAgIFwibWRsLWljb24tdG9nZ2xlX19yaXBwbGUtY29udGFpbmVyXCIsXG4gICAgICBcIm1kbC1yaXBwbGUtLWNlbnRlclwiLFxuICAgIF0pO1xuICB9XG59XG5cbkBEaXJlY3RpdmUoe1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgc2VsZWN0b3I6ICdtZGwtc3dpdGNoW21kbC1yaXBwbGVdJ1xufSlcbmV4cG9ydCBjbGFzcyBNZGxTd2l0Y2hSaXBwbGVEaXJlY3RpdmUgZXh0ZW5kcyBNZGxSaXBwbGVEaXJlY3RpdmUge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgQElucHV0KCdtZGwtcmlwcGxlJykgcHVibGljIHJpcHBsZUFjdGl2ZTogYm9vbGVhbiB8IHN0cmluZyA9IHRydWU7XG5cbiAgY29uc3RydWN0b3IoZWxlbWVudFJlZjogRWxlbWVudFJlZiwgcmVuZGVyZXI6IFJlbmRlcmVyMikge1xuICAgIHN1cGVyKGVsZW1lbnRSZWYsIHJlbmRlcmVyLCBbXG4gICAgICBcIm1kbC1zd2l0Y2hfX3JpcHBsZS1jb250YWluZXJcIixcbiAgICAgIFwibWRsLXJpcHBsZS0tY2VudGVyXCIsXG4gICAgXSk7XG4gIH1cbn1cblxuQERpcmVjdGl2ZSh7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICBzZWxlY3RvcjogJ21kbC1tZW51LWl0ZW1bbWRsLXJpcHBsZV0nXG59KVxuZXhwb3J0IGNsYXNzIE1kbE1lbnVJdGVtUmlwcGxlRGlyZWN0aXZlIGV4dGVuZHMgTWRsUmlwcGxlRGlyZWN0aXZlIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gIEBJbnB1dCgnbWRsLXJpcHBsZScpIHB1YmxpYyByaXBwbGVBY3RpdmU6IGJvb2xlYW4gfCBzdHJpbmcgPSB0cnVlO1xuXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnRSZWY6IEVsZW1lbnRSZWYsIHJlbmRlcmVyOiBSZW5kZXJlcjIpIHtcbiAgICBzdXBlcihlbGVtZW50UmVmLCByZW5kZXJlciwgW1wibWRsLW1lbnVfX2l0ZW0tLXJpcHBsZS1jb250YWluZXJcIl0pO1xuICB9XG59XG5cbkBEaXJlY3RpdmUoe1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgc2VsZWN0b3I6ICdhW21kbC1yaXBwbGVdLGRpdlttZGwtcmlwcGxlXSdcbn0pXG5leHBvcnQgY2xhc3MgTWRsQW5jaG9yUmlwcGxlRGlyZWN0aXZlIGV4dGVuZHMgTWRsUmlwcGxlRGlyZWN0aXZlIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gIEBJbnB1dCgnbWRsLXJpcHBsZScpIHB1YmxpYyByaXBwbGVBY3RpdmU6IGJvb2xlYW4gfCBzdHJpbmcgPSB0cnVlO1xuXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnRSZWY6IEVsZW1lbnRSZWYsIHJlbmRlcmVyOiBSZW5kZXJlcjIpIHtcbiAgICBzdXBlcihlbGVtZW50UmVmLCByZW5kZXJlciwgW1xuICAgICAgXCJtZGwtdGFic19fcmlwcGxlLWNvbnRhaW5lclwiLFxuICAgICAgXCJtZGwtbGF5b3V0X190YWItcmlwcGxlLWNvbnRhaW5lclwiLFxuICAgIF0pO1xuICB9XG59XG4iXX0=